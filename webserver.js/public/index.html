<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<style type="text/css" media="all">@import "css/style.css";</style>
	<title>Rover Control Interface</title>
	<meta name="viewport" content="width=device-width"/>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="http://d3lp1msu2r81bx.cloudfront.net/kjs/js/lib/kinetic-v4.6.0.min.js"></script>
	<script src="./socket.io/socket.io.js"></script>
	<script type="text/javascript" src="strobe/lib/swfobject.js"></script>
	
	<script type="text/javascript">		
	// Create a StrobeMediaPlayback configuration 
	var parameters = {  
		src: "rtmp://" + window.location.hostname + "/flvplayback/myStream",  
		autoPlay: true,  
		controlBarAutoHide: false,  
		playButtonOverlay: true,  
		// controlBarMode : "none",
		streamType : "live",
		showVideoInfoOverlayOnStartUp: true,  
		optimizeBuffering : false,  
		initialBufferTime : 0.1,  
		expandedBufferTime : 0.1,  
		minContinuousPlayback : 0.1,  
		poster: "strobe/images/poster.png"  
	};  
	  // Embed the player SWF:		  
	swfobject.embedSWF
		( "strobe/StrobeMediaPlayback.swf"
		, "strobeMediaPlayback"
		, 640
		, 480
		, "10.1.0"
		, {}
		, parameters
		, { allowFullScreen: "true"}
		, { name: "strobeMediaPlayback" }
	);	  
	</script>
	 
	</head>
	<body>
		<div id="strobeMediaPlayback"></div>
		<div id="slider">
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
		<form>speed: 50 <input type="range" name="speed" value="150" step="5" min="50" max="255">255</form>
		</div>
		<div id="container"><script type="text/javascript" src="control.js"></script></div>

        <div id="sketchInputContainer">
        <div id="sketchInputForm">

          <form name="sketchInput">
        	<textarea id="sketchInputText"rows="10" cols="50" placeholder="Arduino sketch goes here..."></textarea>
          </form>
          <button id="sketchInputSubmit">Submit</button>

        </div>
        </div>

  	</body>
  		<script defer="defer">
    	document.getElementById('sketchInputSubmit').addEventListener('click', function() {
    	var sketchInput = document.getElementById('sketchInputText');
        console.log(sketchInputText.value);
        socket.emit('client_cmd', { SKETCH: sketchInputText.value' });
      }, false);
	</script>
</html>
